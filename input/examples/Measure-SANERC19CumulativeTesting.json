{
  "resourceType": "Measure",
  "id": "SANERC19CumulativeTesting",
  "name": "SANERC19CumulativeTesting",
  "status": "draft",
  "url": "http://ainq.com/fhir/us/saner/Measure/SANERC19CumulativeTesting",
  "experimental": true,
  "author": [
    {
      "name": "FEMA"
    }
  ],
  "publisher": "The SANER Project",
  "contact": [
    {
      "telecom": [
        {
          "system": "email",
          "value": "fema-hhs-covid-diagnostics-tf@fema.dhs.gov "
        }
      ]
    }
  ],
  "useContext": [
    {
      "code": {
        "code": "focus",
        "system": "http://terminology.hl7.org/CodeSystem/usage-context-type"
      },
      "valueCodeableConcept": {
        "coding": [
          {
            "code": "840539006",
            "system": "http://snomed.info/sct",
            "display": "COVID-19"
          }
        ]
      }
    }
  ],
  "type": [
    {
      "coding": [
        {
          "code": "outcome"
        }
      ]
    }
  ],
  "topic": [
    {
      "coding": [
        {
          "code": "252318005",
          "system": "http://snomed.info/sct",
          "display": "Immunology laboratory test (procedure)"
        }
      ]
    }
  ],
  "jurisdiction": [
    {
      "coding": [
        {
          "code": "US",
          "system": "urn:iso:std:iso:3166"
        }
      ]
    }
  ],
  "scoring": {
    "coding": [
      {
        "code": "ratio"
      }
    ]
  },
  "rateAggregation": "cumulative from start date",
  "relatedArtifact": [
    {
      "type": "documentation",
      "url": "https://www.cms.gov/newsroom/press-releases/trump-administration-engages-americas-hospitals-unprecedented-data-sharing",
      "display": "Trump Administration Engages America’s Hospitals in Unprecedented Data Sharing",
      "label": "CMS Press Release"
    },
    {
      "type": "documentation",
      "url": "https://www.whitehouse.gov/briefings-statements/text-letter-vice-president-hospital-administrators/",
      "display": "Text of a Letter from the Vice President to Hospital Administrators",
      "label": "Vice President Pence Letter to Hospital Administrators"
    },
    {
      "type": "documentation",
      "url": "https://www.aha.org/advisory/2020-03-30-coronavirus-update-administration-requests-hospitals-report-daily-covid-19",
      "display": "Administration Requests Hospitals Report Daily on COVID-19 Testing Results, Bed and Ventilator",
      "label": "AHA Advisory on COVID-19 Reporting"
    },
    {
      "type": "documentation",
      "url": "https://images.magnetmail.net/images/clients/AHA_MCHF/attach/2020/March/0330/Template_for_Daily_Hospital_COVID19_Reporting.xlsx",
      "display": "Template for Daily Hospital COVID-19 Reporting.xlsx",
      "label": "Excel Spreadsheet template for reporting to FEMA"
    }
  ],
  "group": [
    {
      "code": {
        "coding": [
          {
            "code": "positivePercent",
            "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
            "display": "Cumulative Percent Positive among Resulted Tests"
          }
        ],
        "text": "# of total positive results to released date / # of total tests results released to date"
      },
      "population": [
        {
          "code": {
            "coding": [
              {
                "code": "totalOrders",
                "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
                "display": "Cumulative Diagnostic Tests Ordered/Recieved"
              },
              {
                "code": "initial-population",
                "system": "http://terminology.hl7.org/CodeSystem/measure-population"
              }
            ],
            "text": "All tests ordered to date."
          },
          "criteria": {
            "name": "totalOrders",
            "description": "",
            "language": "text/fhirpath",
            "expression": " ServiceRequest.where(\n    authoredOn.toDate() = %reportingPeriod /* May need to change logic to support ranges for reportingPeriod */\n    and status in ('active', 'completed')\n    and intent in ('order', 'orginal-order', 'reflex-order', 'filler-order', 'instance-order')\n)"
          },
          "description": ""
        },
        {
          "code": {
            "coding": [
              {
                "code": "allReports",
                "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
                "display": "All Reports To Date"
              },
              {
                "code": "measure-population",
                "system": "http://terminology.hl7.org/CodeSystem/measure-population"
              }
            ],
            "text": "Reports to date including corrected, amended and canceled reports"
          },
          "criteria": {
            "name": "allReports",
            "description": "Diagnostic Reports provided in response to totalOrders",
            "language": "text/fhirpath",
            "expression": "DiagnosticReport.where(basedOn in %totalOrders)"
          },
          "description": "This is in intermediate population used to simplify calculations"
        },
        {
          "code": {
            "coding": [
              {
                "code": "latestReports",
                "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
                "display": "Cumulative Diagnostic Tests Ordered/Recieved"
              },
              {
                "code": "measure-population",
                "system": "http://terminology.hl7.org/CodeSystem/measure-population"
              }
            ],
            "text": "Latest Reports to date for each order"
          },
          "criteria": {
            "name": "latestReports",
            "description": "Most recent diagnostic reports provided in response to totalOrders",
            "language": "text/fhirpath",
            "expression": ""
          },
          "description": "This is in intermediate population used to simplify calculations"
        },
        {
          "code": {
            "coding": [
              {
                "code": "rejected",
                "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
                "display": "Cumulative Specimens Rejected*"
              },
              {
                "code": "denominator-exclusion",
                "system": "http://terminology.hl7.org/CodeSystem/measure-population"
              }
            ],
            "text": "All specimens rejected for testing to date"
          },
          "criteria": {
            "name": "rejected",
            "description": "DiagnosticReport for COVID-19 where the report is unavailable because the measurement was not started or not completed.",
            "language": "text/fhirpath",
            "expression": "DiagnosticReport.where(status = 'cancelled' and code in %ValueSet-COVID19DiagnosticTest)"
          },
          "description": ""
        },
        {
          "code": {
            "coding": [
              {
                "code": "totalTestResults",
                "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
                "display": "Cumulative Tests Performed"
              },
              {
                "code": "denominator",
                "system": "http://terminology.hl7.org/CodeSystem/measure-population"
              }
            ],
            "text": "All tests with results released to date"
          },
          "criteria": {
            "name": "totalTestResults",
            "description": "",
            "language": "text/fhirpath",
            "expression": "ServiceRequest.where(\n    status in ('active', 'completed')\n    and intent in ('order', 'orginal-order', 'reflex-order', 'filler-order', 'instance-order')\n)"
          },
          "description": ""
        },
        {
          "code": {
            "coding": [
              {
                "code": "positive",
                "system": "http://ainq.com/fhir/us/saner/CodeSystem/SanerPopulationMeasures",
                "display": "Cumulative Positive COVID-19 Tests"
              },
              {
                "code": "numerator",
                "system": "http://terminology.hl7.org/CodeSystem/measure-population"
              }
            ],
            "text": "All positive test results released to date"
          },
          "criteria": {
            "name": "positive",
            "description": "The result is positive for COVID-19",
            "language": "text/fhirpath",
            "expression": "DiagnosticReport.where($this in %totalTestResults and conclusionCode in %ValueSet-ConfirmedCOVID19Diagnosis)"
          },
          "description": ""
        }
      ]
    }
  ]
}
