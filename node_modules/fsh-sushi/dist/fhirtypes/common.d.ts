import { StructureDefinition, PathPart, ElementDefinition, InstanceDefinition, ValueSet, CodeSystem } from '.';
import { FixedValueRule } from '../fshtypes/rules';
import { Instance, SourceInfo, Profile, Extension } from '../fshtypes';
import { FSHTank } from '../import';
import { Fishable } from '../utils/Fishable';
import { FHIRId } from './primitiveTypes';
export declare function splitOnPathPeriods(path: string): string[];
/**
 * This function sets an instance property of an SD or ED if possible
 * @param {StructureDefinition | ElementDefinition} - The instance to fix a value on
 * @param {string} path - The path to fix a value at
 * @param {any} value - The value to fix
 * @param {Fishable} fisher - A fishable implementation for finding definitions and metadata
 */
export declare function setPropertyOnDefinitionInstance(instance: StructureDefinition | ElementDefinition, path: string, value: any, fisher: Fishable): void;
export declare function setPropertyOnInstance(instance: StructureDefinition | ElementDefinition | InstanceDefinition | ValueSet | CodeSystem, pathParts: PathPart[], fixedValue: any): void;
/**
 * Tests to see if the last bracket in a PathPart is a non-negative int, and if so returns it
 * @param {PathPart} pathPart - The part of the path to test
 * @returns {number} The index if it exists and is non-negative, otherwise undefined
 *
 */
export declare function getArrayIndex(pathPart: PathPart): number;
/**
 * Replaces references to instances by the correct path to that instance.
 * Replaces references to local code systems by the url for that code system.
 * @param {FixedValueRule} rule - The rule to replace references on
 * @param {FSHTank} tank - The tank holding the instances and code systems
 * @param {Fishable} fisher - A fishable implementation for finding definitions and metadata
 * @returns {FixedValueRule} a clone of the rule if replacing is done, otherwise the original rule
 */
export declare function replaceReferences(rule: FixedValueRule, tank: FSHTank, fisher: Fishable): FixedValueRule;
/**
 * Returns the sliceName for a set of pathParts
 * @param {PathPart} pathPart - The part of the path to get a sliceName for
 * @returns {string} The slicenName for the path part
 */
export declare function getSliceName(pathPart: PathPart): string;
/**
 * Replaces fields in an object that match a certain condition
 * @param { {[key: string]: any} } object - The object to replace fields on
 * @param {(object: { [key: string]: any }, prop: string) => boolean} matchFn - The function to match with
 * @param {(object: { [key: string]: any }, prop: string) => void} replaceFn - The function to replace with
 */
export declare function replaceField(object: {
    [key: string]: any;
}, matchFn: (object: {
    [key: string]: any;
}, prop: string) => boolean, replaceFn: (object: {
    [key: string]: any;
}, prop: string) => void): void;
/**
 * Adds Mixin rules onto a Profile, Extension, or Instance
 * @param {Profile | Extension | Instance} fshDefinition - The definition to apply mixin rules on
 * @param {FSHTank} tank - The FSHTank containing the fshDefinition
 */
export declare function applyMixinRules(fshDefinition: Profile | Extension | Instance, tank: FSHTank): void;
export declare class HasName {
    name?: string;
    /**
     * Set the name and check if it matches the regular expression specified
     * in the invariant for "name" properties. A name must be between 1 and 255 characters long,
     * begin with an uppercase letter, and contain only uppercase letter, lowercase letter,
     * numeral, and '_' characters.
     * If the string does not match, log an error.
     *
     * @see {@link http://hl7.org/fhir/R4/structuredefinition-definitions.html#StructureDefinition.name}
     * @see {@link http://hl7.org/fhir/R4/valueset-definitions.html#ValueSet.name}
     * @see {@link http://hl7.org/fhir/R4/codesystem-definitions.html#CodeSystem.name}
     * @param {string} name - The name to check against the name invariant
     * @param {SourceInfo} sourceInfo - The FSH file and location that specified the name
     */
    setName(name: string, sourceInfo: SourceInfo): void;
}
export declare class HasId {
    id?: FHIRId;
    /**
     * Set the id and check if it matches the regular expression specified
     * in the definition of the "id" type.
     * If the FHIRId does not match, log an error.
     *
     * @param id - The new id to set
     * @param sourceInfo - The FSH file and location that specified the id
     */
    setId(id: FHIRId, sourceInfo: SourceInfo): void;
    /**
     * Check if the current id matches the regular expression specified
     * in the definition of the "id" type.
     * If the FHIRId does not match, log an error.
     *
     * @param sourceInfo - The FSH file and location that specified the id
     */
    validateId(sourceInfo: SourceInfo): void;
}
